<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Old Money Player ¬∑ One Last Time</title>
    <!-- Font Awesome 6 (gratis) untuk ikon mewah -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Playfair Display', 'Georgia', serif;
        }

        body {
            min-height: 100vh;
            background: radial-gradient(circle at 10% 20%, #1e2b2f, #0a0f12);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow-x: hidden;
            padding: 16px;
        }

        /* Ornamen old money ‚Äî kilauan emas dan permata */
        .ornament {
            position: absolute;
            font-size: 2.5rem;
            opacity: 0.25;
            user-select: none;
            pointer-events: none;
            z-index: 1;
            animation: float 8s infinite ease-in-out;
        }

        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(4deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        .orn-1 { top: 5%; left: 3%; animation-delay: 0s; }
        .orn-2 { bottom: 8%; right: 2%; animation-delay: 1.5s; font-size: 3rem; }
        .orn-3 { top: 15%; right: 8%; animation-delay: 0.7s; }
        .orn-4 { bottom: 15%; left: 5%; animation-delay: 2.2s; }
        .orn-5 { top: 25%; left: 12%; animation-delay: 1s; font-size: 2rem; opacity: 0.2; }

        /* bintang-bintang kecil (animasi mahal) */
        .star {
            position: absolute;
            color: rgba(212, 175, 55, 0.5); /* old gold */
            font-size: 0.9rem;
            pointer-events: none;
            z-index: 1;
            animation: twinkle 3s infinite alternate;
        }

        @keyframes twinkle {
            0% { opacity: 0.1; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1.2); text-shadow: 0 0 8px gold; }
        }

        .star-1 { top: 20%; left: 20%; animation-duration: 2.5s; }
        .star-2 { bottom: 30%; right: 15%; animation-duration: 4s; }
        .star-3 { top: 70%; left: 80%; animation-duration: 3.2s; }
        .star-4 { top: 45%; right: 40%; animation-duration: 2s; }

        /* CARD UTAMA ‚Äì nuansa old money: gading, emas, navy */
        .player-card {
            position: relative;
            z-index: 10;
            max-width: 560px;
            width: 100%;
            background: rgba(250, 245, 235, 0.92);  /* creamy ivory */
            backdrop-filter: blur(14px);
            -webkit-backdrop-filter: blur(14px);
            border: 2px solid #d4af37; /* gold */
            border-radius: 42px;
            box-shadow: 0 30px 60px -10px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(212, 175, 55, 0.3) inset, 0 0 30px rgba(212, 175, 55, 0.2);
            padding: 32px 28px;
            transition: all 0.3s;
        }

        /* Vinyl / cover area */
        .cover-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 28px;
        }

        .vinyl-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin-bottom: 16px;
            filter: drop-shadow(0 10px 15px rgba(0,0,0,0.5));
        }

        .vinyl {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #333, #0a0a0a);
            box-shadow: 0 0 0 6px #b89b5b, 0 0 0 12px #e3c684, 0 15px 25px rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.6s cubic-bezier(0.2, 0.8, 0.4, 1);
            animation: none;
            cursor: pointer;
        }

        .vinyl.playing {
            animation: spin 12s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .vinyl-inner {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: radial-gradient(circle, #d4af37, #b8860b);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            color: #1e1e1e;
            box-shadow: inset 0 -2px 5px rgba(0,0,0,0.5), 0 2px 5px rgba(255,215,0,0.8);
        }

        .track-info {
            text-align: center;
            margin-top: 8px;
        }

        .track-name {
            font-size: 2rem;
            font-weight: 700;
            letter-spacing: 2px;
            color: #2c2a28;
            text-shadow: 2px 2px 0 rgba(212, 175, 55, 0.3);
            font-family: 'Playfair Display', serif;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .track-name i {
            color: #b49450;
            font-size: 1.8rem;
        }

        .artist {
            font-size: 1.1rem;
            color: #6b5a3a;
            font-style: italic;
            letter-spacing: 1px;
            margin-top: 4px;
            border-bottom: 1px dashed #d4af37;
            display: inline-block;
            padding-bottom: 6px;
        }

        /* progress & waktu */
        .progress-area {
            margin: 28px 0 18px;
        }

        .time-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.95rem;
            color: #5c4e32;
            font-weight: 500;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #d0c0a0;
            border-radius: 30px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
            cursor: pointer;
            position: relative;
            border: 1px solid #b49450;
        }

        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #c9a449, #e5c687, #f8e2a0);
            border-radius: 30px;
            position: relative;
            box-shadow: 0 0 15px #f3d37c;
            transition: width 0.05s linear;
        }

        .progress-fill::after {
            content: "üíé";
            position: absolute;
            right: -10px;
            top: -12px;
            font-size: 1.3rem;
            filter: drop-shadow(0 0 5px gold);
        }

        /* kontrol */
        .controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 32px;
            margin: 30px 0 20px;
        }

        .ctrl-btn {
            background: transparent;
            border: none;
            font-size: 2.6rem;
            color: #947745;
            cursor: pointer;
            transition: all 0.2s ease;
            filter: drop-shadow(0 4px 4px rgba(0,0,0,0.2));
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .ctrl-btn:hover {
            color: #c4a142;
            transform: scale(1.15);
            text-shadow: 0 0 20px #ffd966;
        }

        .ctrl-btn.play-pause {
            background: #2e2b26;
            color: #e3c684;
            font-size: 2.8rem;
            box-shadow: 0 0 0 3px #d4af37, 0 10px 20px rgba(0,0,0,0.6);
            width: 80px;
            height: 80px;
        }

        .ctrl-btn.play-pause:hover {
            background: #3f3a33;
            box-shadow: 0 0 0 4px #f5d97b, 0 15px 25px black;
        }

        /* volume & ekstra */
        .extra {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(212, 175, 55, 0.1);
            padding: 12px 20px;
            border-radius: 60px;
            border: 1px solid #d4af37;
            margin-top: 15px;
        }

        .volume-box {
            display: flex;
            align-items: center;
            gap: 12px;
            color: #75653e;
            font-size: 1.2rem;
        }

        .volume-box i {
            font-size: 1.6rem;
            color: #b49450;
        }

        .volume-slider {
            width: 120px;
            height: 5px;
            background: #d4b26a;
            border-radius: 10px;
            -webkit-appearance: none;
            appearance: none;
            outline: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: #f5e2b0;
            border-radius: 50%;
            border: 2px solid #7a622b;
            box-shadow: 0 2px 8px gold;
            cursor: pointer;
        }

        .emojis {
            display: flex;
            gap: 16px;
            font-size: 1.7rem;
            filter: drop-shadow(0 2px 4px #806f40);
        }

        /* audio asli disembunyikan */
        #mainAudio {
            display: none;
        }

        /* animasi mahal: emoji berjalan di sekitar card */
        .floating-emoji {
            position: absolute;
            font-size: 2rem;
            animation: orbit 12s linear infinite;
            pointer-events: none;
            z-index: 5;
            opacity: 0.5;
        }

        @keyframes orbit {
            0% { transform: rotate(0deg) translateX(180px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(180px) rotate(-360deg); }
        }

        .emoji-1 { top: 30%; left: 20%; animation-duration: 14s; }
        .emoji-2 { top: 60%; left: 70%; animation-duration: 18s; }
        .emoji-3 { top: 20%; left: 80%; animation-duration: 16s; }

        /* footer vintage */
        .signature {
            text-align: center;
            margin-top: 24px;
            font-size: 0.9rem;
            color: #a38e5a;
            letter-spacing: 2px;
            border-top: 1px solid #e5cf9b;
            padding-top: 14px;
        }

        .signature i {
            color: #b49450;
        }

        /* responsif */
        @media (max-width: 500px) {
            .player-card { padding: 24px 16px; }
            .vinyl-container { width: 150px; height: 150px; }
            .track-name { font-size: 1.5rem; }
            .controls { gap: 16px; }
            .ctrl-btn.play-pause { width: 65px; height: 65px; font-size: 2.2rem; }
        }
    </style>
</head>
<body>
    <!-- Emoji / ornamen old money bertebaran (animasi mahal) -->
    <div class="ornament orn-1">‚åõ</div>
    <div class="ornament orn-2">üíé</div>
    <div class="ornament orn-3">üï∞Ô∏è</div>
    <div class="ornament orn-4">ü•Ç</div>
    <div class="ornament orn-5">üëë</div>

    <!-- Bintang emas berkilau -->
    <div class="star star-1">‚ú®</div>
    <div class="star star-2">‚ú®</div>
    <div class="star star-3">‚ú®</div>
    <div class="star star-4">‚ú®</div>

    <!-- Emoji berputar di sekeliling (orbit) -->
    <div class="floating-emoji emoji-1">üé©</div>
    <div class="floating-emoji emoji-2">üíº</div>
    <div class="floating-emoji emoji-3">üèõÔ∏è</div>

    <!-- CARD UTAMA -->
    <main class="player-card">
        <!-- Vinyl + cover -->
        <div class="cover-section">
            <div class="vinyl-container" id="vinylContainer">
                <div class="vinyl" id="vinylDisc">
                    <div class="vinyl-inner">
                        üíø
                    </div>
                </div>
            </div>
            <div class="track-info">
                <h1 class="track-name">
                    <i class="fas fa-crown"></i> one last time <i class="fas fa-crown"></i>
                </h1>
                <div class="artist">üéª ariana grande ¬∑ old money remaster</div>
            </div>
        </div>

        <!-- progress + waktu -->
        <div class="progress-area">
            <div class="time-info">
                <span id="currentTime">0:00</span>
                <span id="durationTime">3:30</span> <!-- placeholder, akan berubah sesuai durasi asli -->
            </div>
            <div class="progress-bar" id="progressBar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <!-- kontrol utama -->
        <div class="controls">
            <button class="ctrl-btn" id="prevBtn" title="previous (just for style)"><i class="fas fa-backward-step"></i></button>
            <button class="ctrl-btn play-pause" id="playPauseBtn"><i class="fas fa-play" id="playPauseIcon"></i></button>
            <button class="ctrl-btn" id="nextBtn" title="next (just for style)"><i class="fas fa-forward-step"></i></button>
        </div>

        <!-- volume & hiasan emoji -->
        <div class="extra">
            <div class="volume-box">
                <i class="fas fa-volume-high" id="volumeIcon"></i>
                <input type="range" min="0" max="1" step="0.01" value="0.8" class="volume-slider" id="volumeSlider">
            </div>
            <div class="emojis">
                <span>üíé</span>
                <span>üï∞Ô∏è</span>
                <span>üëû</span>
            </div>
        </div>

        <!-- signature vintage -->
        <div class="signature">
            <i class="fas fa-record-vinyl"></i> ¬∑ since 1920 ¬∑ <i class="fas fa-glass-martini-alt"></i>
        </div>
    </main>

    <!-- elemen audio tersembunyi, src mengarah ke file MP3 -->
    <audio id="mainAudio" src="one last time.mp3" preload="metadata"></audio>

    <script>
        (function() {
            // ambil elemen
            const audio = document.getElementById('mainAudio');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const playIcon = document.getElementById('playPauseIcon');
            const vinylDisc = document.getElementById('vinylDisc');
            const progressBar = document.getElementById('progressBar');
            const progressFill = document.getElementById('progressFill');
            const currentTimeSpan = document.getElementById('currentTime');
            const durationSpan = document.getElementById('durationTime');
            const volumeSlider = document.getElementById('volumeSlider');
            const volumeIcon = document.getElementById('volumeIcon');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            // state
            let isPlaying = false;
            let duration = 0;

            // inisialisasi durasi jika sudah dimuat
            audio.addEventListener('loadedmetadata', function() {
                duration = audio.duration;
                if (duration && !isNaN(duration)) {
                    let mins = Math.floor(duration / 60);
                    let secs = Math.floor(duration % 60);
                    durationSpan.textContent = `${mins}:${secs < 10 ? '0' : ''}${secs}`;
                } else {
                    durationSpan.textContent = '3:30'; // fallback
                }
            });

            // jika metadata gagal / belum, set manual (tetap akan diperbarui setelah play)
            if (audio.readyState >= 1) {
                duration = audio.duration;
                if (duration && !isNaN(duration)) {
                    let mins = Math.floor(duration / 60);
                    let secs = Math.floor(duration % 60);
                    durationSpan.textContent = `${mins}:${secs < 10 ? '0' : ''}${secs}`;
                }
            }

            // format waktu
            function formatTime(seconds) {
                if (isNaN(seconds)) return '0:00';
                const m = Math.floor(seconds / 60);
                const s = Math.floor(seconds % 60);
                return `${m}:${s < 10 ? '0' : ''}${s}`;
            }

            // update progress setiap waktu
            audio.addEventListener('timeupdate', function() {
                if (audio.duration) {
                    const current = audio.currentTime;
                    const percent = (current / audio.duration) * 100;
                    progressFill.style.width = percent + '%';
                    currentTimeSpan.textContent = formatTime(current);
                }
            });

            // klik progress bar untuk seek
            progressBar.addEventListener('click', function(e) {
                const rect = progressBar.getBoundingClientRect();
                const clickX = e.clientX - rect.left;
                const width = rect.width;
                const seekTime = (clickX / width) * audio.duration;
                if (!isNaN(seekTime)) {
                    audio.currentTime = seekTime;
                }
            });

            // play/pause
            function togglePlay() {
                if (isPlaying) {
                    audio.pause();
                    playIcon.className = 'fas fa-play';
                    vinylDisc.classList.remove('playing');
                } else {
                    audio.play()
                        .then(() => {
                            playIcon.className = 'fas fa-pause';
                            vinylDisc.classList.add('playing');
                        })
                        .catch(err => {
                            alert('Tidak dapat memutar file. Pastikan "one last time.mp3" ada di folder yang sama.');
                            console.error(err);
                        });
                }
                isPlaying = !isPlaying;
            }

            playPauseBtn.addEventListener('click', togglePlay);

            // ketika audio selesai
            audio.addEventListener('ended', function() {
                isPlaying = false;
                playIcon.className = 'fas fa-play';
                vinylDisc.classList.remove('playing');
                audio.currentTime = 0; // kembali awal
                progressFill.style.width = '0%';
                currentTimeSpan.textContent = '0:00';
            });

            // volume
            volumeSlider.addEventListener('input', function() {
                audio.volume = volumeSlider.value;
                if (audio.volume === 0) {
                    volumeIcon.className = 'fas fa-volume-off';
                } else if (audio.volume < 0.5) {
                    volumeIcon.className = 'fas fa-volume-low';
                } else {
                    volumeIcon.className = 'fas fa-volume-high';
                }
            });

            // previous / next hanya untuk gaya (reset lagu / sedikit efek)
            prevBtn.addEventListener('click', function() {
                audio.currentTime = 0;
                if (!isPlaying) {
                    // jika sedang pause, preview saja tidak play
                } else {
                    // tetap play dari awal
                }
                // tambah animasi kecil
                vinylDisc.style.transform = 'scale(0.95)';
                setTimeout(() => vinylDisc.style.transform = '', 150);
            });

            nextBtn.addEventListener('click', function() {
                // restart lagu (hanya 1 lagu)
                audio.currentTime = 0;
                if (!isPlaying) {
                    // diam
                }
                vinylDisc.style.transform = 'scale(0.95)';
                setTimeout(() => vinylDisc.style.transform = '', 150);
            });

            // event tambahan untuk update durasi jika tiba-tiba berubah
            audio.addEventListener('durationchange', function() {
                if (audio.duration) {
                    let mins = Math.floor(audio.duration / 60);
                    let secs = Math.floor(audio.duration % 60);
                    durationSpan.textContent = `${mins}:${secs < 10 ? '0' : ''}${secs}`;
                }
            });

            // biar bisa play dari awal jika di klik disc
            vinylDisc.addEventListener('click', togglePlay);

            // Update durasi ketika sudah bisa diputar (misal saat play)
            audio.addEventListener('canplay', function() {
                if (audio.duration && !isNaN(audio.duration)) {
                    let mins = Math.floor(audio.duration / 60);
                    let secs = Math.floor(audio.duration % 60);
                    durationSpan.textContent = `${mins}:${secs < 10 ? '0' : ''}${secs}`;
                }
            });

            // inisialisasi volume
            audio.volume = volumeSlider.value;
        })();
    </script>

    <!-- catatan: letakkan file one last time.mp3 di folder yang sama dengan HTML ini -->
    <!-- tampilan old money dengan sentuhan mahal: emas, vinyl, emoji berkelas -->
</body>
</html>
